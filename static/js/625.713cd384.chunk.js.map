{"version":3,"file":"static/js/625.713cd384.chunk.js","mappings":"8PACA,EAA6B,2B,SCId,SAASA,IACtB,IAAAC,GAA4CC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjDI,EAAcF,EAAA,GAAEG,EAAiBH,EAAA,GACxCI,GAAkDL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAvDE,EAAiBD,EAAA,GAAEE,EAAoBF,EAAA,GAC9CG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAT,EAAAA,EAAAA,GAAAO,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAAkCd,EAAAA,EAAAA,WAAS,GAAMe,GAAAb,EAAAA,EAAAA,GAAAY,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACxBG,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAcT,EAAaU,IAAI,SACjCD,IACFjB,EAAkBiB,GAClBE,EAASF,GAEb,GAAG,CAACT,IAEJ,IAAMW,EAAQ,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMN,GAAW,IAAAO,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACb,OAAnBf,GAAa,GAAMa,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEMC,EAAAA,EAAAA,IAAU,4FAADC,OAC8Db,IAC5F,KAAD,EAAAO,EAAAE,EAAAK,KAFON,EAAID,EAAJC,KAGRrB,EAAqBqB,EAAKO,SAASN,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEnCQ,QAAQC,MAAM,SAAS,QAEH,OAFGT,EAAAC,KAAA,GAEvBd,GAAa,GAAOa,EAAAU,OAAA,6BAAAV,EAAAW,OAAA,GAAAd,EAAA,wBAEvB,gBAZae,GAAA,OAAAlB,EAAAmB,MAAA,KAAAC,UAAA,KAmBRC,EAAe,SAAAC,GACnBA,EAAEC,iBACFlC,EAAgB,CAAEmC,MAAO7C,IACzBe,EAAS,UAADgB,OAAW/B,IACnB8C,aAAaC,QAAQ,QAAS/C,EAChC,EAEA,OACEgD,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACED,EAAAA,EAAAA,MAAA,QAAME,SAAUR,EAAaO,SAAA,EAC3BE,EAAAA,EAAAA,KAAA,SAAOC,KAAK,OAAOC,SAfJ,SAAAC,GACnB,IAAMC,EAAQD,EAAME,OAAOD,MAC3BtD,EAAkBsD,EACpB,EAYiDE,UAAWC,KACtDP,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAASK,UAAWC,EAAgBC,QAASjB,EAAaO,SAAC,eAI1ED,EAAAA,EAAAA,MAAA,MAAAC,SAAA,CACGpC,IAAasC,EAAAA,EAAAA,KAAA,KAAAF,SAAG,gBAChB7C,EAAkBwD,KAAI,SAACC,EAAOC,GAAK,OAClCX,EAAAA,EAAAA,KAAA,MAAAF,UACEE,EAAAA,EAAAA,KAACY,EAAAA,GAAI,CAACC,GAAE,GAAAjC,OAAK8B,EAAMI,IAAKhB,SAAEY,EAAMK,SADzBJ,EAEJ,SAKf,C","sources":["webpack://react-homework-template/./src/components/movies/Movies.module.css?e70e","components/movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputStyle\":\"Movies_inputStyle__kaway\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport css from './Movies.module.css';\n\nexport default function Movies() {\n  const [searchingMovie, setSearchingMovie] = useState('');\n  const [searchedMovieData, setSearchedMovieData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const searchQuery = searchParams.get('query');\n    if (searchQuery) {\n      setSearchingMovie(searchQuery);\n      getMovie(searchQuery);\n    }\n  }, [searchParams]);\n\n  const getMovie = async searchQuery => {\n    setIsLoading(true);\n    try {\n      const { data } = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?api_key=6f0a7e90748cec36ca14cbe73d2c8153&query=${searchQuery}`\n      );\n      setSearchedMovieData(data.results);\n    } catch (error) {\n      console.error('error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleChange = event => {\n    const value = event.target.value;\n    setSearchingMovie(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: searchingMovie });\n    navigate(`?query=${searchingMovie}`);\n    localStorage.setItem('query', searchingMovie);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleChange} className={css.inputStyle} />\n        <button type=\"button\" className={css.inputStyle} onClick={handleSubmit}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {isLoading && <p>Loading ...</p>}\n        {searchedMovieData.map((movie, index) => (\n          <li key={index}>\n            <Link to={`${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":["Movies","_useState","useState","_useState2","_slicedToArray","searchingMovie","setSearchingMovie","_useState3","_useState4","searchedMovieData","setSearchedMovieData","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState5","_useState6","isLoading","setIsLoading","navigate","useNavigate","useEffect","searchQuery","get","getMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","axios","concat","sent","results","t0","console","error","finish","stop","_x","apply","arguments","handleSubmit","e","preventDefault","query","localStorage","setItem","_jsxs","children","onSubmit","_jsx","type","onChange","event","value","target","className","css","onClick","map","movie","index","Link","to","id","title"],"sourceRoot":""}