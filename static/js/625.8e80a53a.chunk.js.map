{"version":3,"file":"static/js/625.8e80a53a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/movies/Movies.module.css?e70e","components/movies/Movies.jsx","hooks/Api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputStyle\":\"Movies_inputStyle__kaway\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useNavigate } from 'react-router-dom';\nimport useApi from 'hooks/Api';\nimport css from './Movies.module.css';\n\nexport default function Movies() {\n  const [searchingMovie, setSearchingMovie] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const searchQuery = searchParams.get('query');\n\n  const apiUrl = `https://api.themoviedb.org/3/search/movie?api_key=6f0a7e90748cec36ca14cbe73d2c8153&query=${searchQuery}`;\n  const { isLoading, data, getResaults } = useApi(apiUrl);\n\n  useEffect(() => {\n    if (searchQuery) {\n      setSearchingMovie(searchQuery);\n      getResaults(searchQuery);\n    }\n    // eslint-disable-next-line\n  }, [searchParams]);\n\n  const handleChange = event => {\n    const value = event.target.value;\n    setSearchingMovie(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: searchingMovie });\n    navigate(`?query=${searchingMovie}`);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleChange} className={css.inputStyle} />\n        <button type=\"button\" className={css.inputStyle} onClick={handleSubmit}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {isLoading && <p>Loading ...</p>}\n        {data.map((movie, index) => (\n          <li key={index}>\n            <Link to={`${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport axios from 'axios';\n\nconst useApi = apiUrl => {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsErrror] = useState(false);\n\n  const getResaults = async () => {\n    setIsLoading(true);\n    try {\n      const { data } = await axios.get(apiUrl);\n      console.log(data);\n      setData(data.results);\n    } catch (error) {\n      setIsErrror(true);\n      console.error('error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return { data, isLoading, isError, getResaults };\n};\n\nexport default useApi;\n"],"names":["Movies","_useState","useState","_useState2","_slicedToArray","searchingMovie","setSearchingMovie","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","navigate","useNavigate","searchQuery","get","apiUrl","concat","_useApi","useApi","isLoading","data","getResaults","useEffect","handleSubmit","e","preventDefault","query","_jsxs","children","onSubmit","_jsx","type","onChange","event","value","target","className","css","onClick","map","movie","index","Link","to","id","title","setData","_useState3","_useState4","setIsLoading","_useState5","_useState6","isError","setIsErrror","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","_data","_context","prev","next","axios","sent","console","log","results","t0","error","finish","stop","apply","arguments"],"sourceRoot":""}