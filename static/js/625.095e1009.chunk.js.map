{"version":3,"file":"static/js/625.095e1009.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/movies/Movies.module.css?e70e","components/movies/Movies.jsx","hook/useApi.jsx","services/endpointApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputStyle\":\"Movies_inputStyle__kaway\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useNavigate } from 'react-router-dom';\nimport useApi from 'hook/useApi';\nimport css from './Movies.module.css';\nimport { searchMovies } from 'services/endpointApi';\n\nexport default function Movies() {\n  const [searchingMovie, setSearchingMovie] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const searchQuery = searchParams.get('query');\n\n  const { isLoading, data, getResults } = useApi(searchMovies, searchQuery);\n\n  useEffect(() => {\n    if (searchQuery) {\n      setSearchingMovie(searchQuery);\n      getResults(searchQuery);\n    }\n    // eslint-disable-next-line\n  }, [searchParams]);\n\n  const handleChange = event => {\n    const value = event.target.value;\n    setSearchingMovie(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: searchingMovie });\n    navigate(`?query=${searchingMovie}`);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={handleChange} className={css.inputStyle} />\n        <button type=\"button\" className={css.inputStyle} onClick={handleSubmit}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {isLoading && <p>Loading ...</p>}\n        {data.map((movie, index) => (\n          <li key={index}>\n            <Link to={`${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\nconst useApi = (fetchFunction, params, useResults = true) => {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsErrror] = useState(false);\n\n  const getResults = async () => {\n    setIsLoading(true);\n    try {\n      const { data } = await fetchFunction(params);\n      console.log('Data from API:', data);\n      setData(useResults ? data.results : data);\n      console.log(data);\n    } catch (error) {\n      setIsErrror(true);\n      console.error('error', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return { data, isLoading, isError, getResults };\n};\n\nexport default useApi;\n","import axios from 'axios';\n\n// Default\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '6f0a7e90748cec36ca14cbe73d2c8153',\n};\n\n// Cast\nexport function getCast(movieId) {\n  return axios.get(`/movie/${movieId}/credits`);\n}\n\n// Reviews\nexport function getReviews(movieId) {\n  return axios.get(`/movie/${movieId}/reviews`);\n}\n\n// Movies\nexport function searchMovies(searchQuery) {\n  return axios.get(`/search/movie`, { params: { query: searchQuery } });\n}\n// Movie details\nexport function getMovieDetails(movieId) {\n  return axios.get(`/movie/${movieId}`);\n}\n\n// Home\nexport function getHomepageMovies() {\n  return axios.get('/trending/movie/day');\n}\n"],"names":["Movies","_useState","useState","_useState2","_slicedToArray","searchingMovie","setSearchingMovie","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","navigate","useNavigate","searchQuery","get","_useApi","useApi","searchMovies","isLoading","data","getResults","useEffect","handleSubmit","e","preventDefault","query","concat","_jsxs","children","onSubmit","_jsx","type","onChange","event","value","target","className","css","onClick","map","movie","index","Link","to","id","title","fetchFunction","params","useResults","arguments","length","undefined","setData","_useState3","_useState4","setIsLoading","_useState5","_useState6","isError","setIsErrror","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$fetchFunction","_data","_context","prev","next","sent","console","log","results","t0","error","finish","stop","apply","getCast","movieId","axios","getReviews","getMovieDetails","getHomepageMovies","api_key"],"sourceRoot":""}