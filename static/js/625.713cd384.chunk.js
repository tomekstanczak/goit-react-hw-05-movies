"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[625],{625:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(861),a=r(439),c=r(757),u=r.n(c),s=r(791),o=r(87),i=r(689),l=r(340),p="Movies_inputStyle__kaway",f=r(184);function h(){var e=(0,s.useState)(""),t=(0,a.Z)(e,2),r=t[0],c=t[1],h=(0,s.useState)([]),v=(0,a.Z)(h,2),d=v[0],m=v[1],x=(0,o.lr)(),k=(0,a.Z)(x,2),y=k[0],b=k[1],j=(0,s.useState)(!1),_=(0,a.Z)(j,2),g=_[0],w=_[1],S=(0,i.s0)();(0,s.useEffect)((function(){var e=y.get("query");e&&(c(e),Z(e))}),[y]);var Z=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,l.Z.get("https://api.themoviedb.org/3/search/movie?api_key=6f0a7e90748cec36ca14cbe73d2c8153&query=".concat(t));case 4:r=e.sent,n=r.data,m(n.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("error");case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){e.preventDefault(),b({query:r}),S("?query=".concat(r)),localStorage.setItem("query",r)};return(0,f.jsxs)("div",{children:[(0,f.jsxs)("form",{onSubmit:q,children:[(0,f.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;c(t)},className:p}),(0,f.jsx)("button",{type:"button",className:p,onClick:q,children:"Search"})]}),(0,f.jsxs)("ul",{children:[g&&(0,f.jsx)("p",{children:"Loading ..."}),d.map((function(e,t){return(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"".concat(e.id),children:e.title})},t)}))]})]})}}}]);
//# sourceMappingURL=625.713cd384.chunk.js.map